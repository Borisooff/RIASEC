from sqlalchemy import create_engine
from sqlalchemy.orm import sessionmaker
from models import Question, AnswerOption
import json


def fill_sample_data():
    engine = create_engine("sqlite:///riasec_test.db")
    Session = sessionmaker(bind=engine)
    session = Session()

    questions_data = [
        # Реалистический тип (R) - 10 вопросов
        {
            "text": "Мне нравится работать с инструментами",
            "category": "R",
            "options": [
                {"text": "Полностью согласен", "points": {"R": 3}},
                {"text": "Скорее согласен", "points": {"R": 2}},
                {"text": "Нейтрально", "points": {"R": 1}},
                {"text": "Скорее не согласен", "points": {"R": 0}},
                {"text": "Полностью не согласен", "points": {"R": 0}}
            ]
        },
        {
            "text": "Я предпочитаю физическую работу",
            "category": "R",
            "options": [
                {"text": "Полностью согласен", "points": {"R": 3}},
                {"text": "Скорее согласен", "points": {"R": 2}},
                {"text": "Нейтрально", "points": {"R": 1}},
                {"text": "Скорее не согласен", "points": {"R": 0}},
                {"text": "Полностью не согласен", "points": {"R": 0}}
            ]
        },
        {
            "text": "Мне нравится работать руками (ремонтировать, собирать)",
            "category": "R",
            "options": [
                {"text": "Полностью согласен", "points": {"R": 3}},
                {"text": "Скорее согласен", "points": {"R": 2}},
                {"text": "Нейтрально", "points": {"R": 1}},
                {"text": "Скорее не согласен", "points": {"R": 0}},
                {"text": "Полностью не согласен", "points": {"R": 0}}
            ]
        },

        # Интеллектуальный тип (I) - 10 вопросов
        {
            "text": "Мне нравится проводить научные эксперименты",
            "category": "I",
            "options": [
                {"text": "Полностью согласен", "points": {"I": 3}},
                {"text": "Скорее согласен", "points": {"I": 2}},
                {"text": "Нейтрально", "points": {"I": 1}},
                {"text": "Скорее не согласен", "points": {"I": 0}},
                {"text": "Полностью не согласен", "points": {"I": 0}}
            ]
        },
        {
            "text": "Я люблю разбираться, как что-то устроено",
            "category": "I",
            "options": [
                {"text": "Полностью согласен", "points": {"I": 3}},
                {"text": "Скорее согласен", "points": {"I": 2}},
                {"text": "Нейтрально", "points": {"I": 1}},
                {"text": "Скорее не согласен", "points": {"I": 0}},
                {"text": "Полностью не согласен", "points": {"I": 0}}
            ]
        },
        {
            "text": "Мне нравится анализировать данные и искать закономерности",
            "category": "I",
            "options": [
                {"text": "Полностью согласен", "points": {"I": 3}},
                {"text": "Скорее согласен", "points": {"I": 2}},
                {"text": "Нейтрально", "points": {"I": 1}},
                {"text": "Скорее не согласен", "points": {"I": 0}},
                {"text": "Полностью не согласен", "points": {"I": 0}}
            ]
        },

        # Артистический тип (A) - 10 вопросов
        {
            "text": "Мне нравится сочинять музыку или стихи",
            "category": "A",
            "options": [
                {"text": "Полностью согласен", "points": {"A": 3}},
                {"text": "Скорее согласен", "points": {"A": 2}},
                {"text": "Нейтрально", "points": {"A": 1}},
                {"text": "Скорее не согласен", "points": {"A": 0}},
                {"text": "Полностью не согласен", "points": {"A": 0}}
            ]
        },
        {
            "text": "Я люблю рисовать или заниматься дизайном",
            "category": "A",
            "options": [
                {"text": "Полностью согласен", "points": {"A": 3}},
                {"text": "Скорее согласен", "points": {"A": 2}},
                {"text": "Нейтрально", "points": {"A": 1}},
                {"text": "Скорее не согласен", "points": {"A": 0}},
                {"text": "Полностью не согласен", "points": {"A": 0}}
            ]
        },
        {
            "text": "Мне нравится выступать перед публикой",
            "category": "A",
            "options": [
                {"text": "Полностью согласен", "points": {"A": 3}},
                {"text": "Скорее согласен", "points": {"A": 2}},
                {"text": "Нейтрально", "points": {"A": 1}},
                {"text": "Скорее не согласен", "points": {"A": 0}},
                {"text": "Полностью не согласен", "points": {"A": 0}}
            ]
        },

        # Социальный тип (S) - 10 вопросов
        {
            "text": "Мне нравится помогать людям",
            "category": "S",
            "options": [
                {"text": "Полностью согласен", "points": {"S": 3}},
                {"text": "Скорее согласен", "points": {"S": 2}},
                {"text": "Нейтрально", "points": {"S": 1}},
                {"text": "Скорее не согласен", "points": {"S": 0}},
                {"text": "Полностью не согласен", "points": {"S": 0}}
            ]
        },
        {
            "text": "Я умею выслушать другого и дать совет",
            "category": "S",
            "options": [
                {"text": "Полностью согласен", "points": {"S": 3}},
                {"text": "Скорее согласен", "points": {"S": 2}},
                {"text": "Нейтрально", "points": {"S": 1}},
                {"text": "Скорее не согласен", "points": {"S": 0}},
                {"text": "Полностью не согласен", "points": {"S": 0}}
            ]
        },
        {
            "text": "Мне нравится обучать других",
            "category": "S",
            "options": [
                {"text": "Полностью согласен", "points": {"S": 3}},
                {"text": "Скорее согласен", "points": {"S": 2}},
                {"text": "Нейтрально", "points": {"S": 1}},
                {"text": "Скорее не согласен", "points": {"S": 0}},
                {"text": "Полностью не согласен", "points": {"S": 0}}
            ]
        },

        # Предпринимательский тип (E) - 10 вопросов
        {
            "text": "Я могу убедить других следовать за мной",
            "category": "E",
            "options": [
                {"text": "Полностью согласен", "points": {"E": 3}},
                {"text": "Скорее согласен", "points": {"E": 2}},
                {"text": "Нейтрально", "points": {"E": 1}},
                {"text": "Скорее не согласен", "points": {"E": 0}},
                {"text": "Полностью не согласен", "points": {"E": 0}}
            ]
        },
        {
            "text": "Я умею вести переговоры и добиваться целей",
            "category": "E",
            "options": [
                {"text": "Полностью согласен", "points": {"E": 3}},
                {"text": "Скорее согласен", "points": {"E": 2}},
                {"text": "Нейтрально", "points": {"E": 1}},
                {"text": "Скорее не согласен", "points": {"E": 0}},
                {"text": "Полностью не согласен", "points": {"E": 0}}
            ]
        },
        {
            "text": "Мне нравится брать на себя ответственность",
            "category": "E",
            "options": [
                {"text": "Полностью согласен", "points": {"E": 3}},
                {"text": "Скорее согласен", "points": {"E": 2}},
                {"text": "Нейтрально", "points": {"E": 1}},
                {"text": "Скорее не согласен", "points": {"E": 0}},
                {"text": "Полностью не согласен", "points": {"E": 0}}
            ]
        },

        # Конвенциональный тип (C) - 10 вопросов
        {
            "text": "Мне нравится работа с цифрами и таблицами",
            "category": "C",
            "options": [
                {"text": "Полностью согласен", "points": {"C": 3}},
                {"text": "Скорее согласен", "points": {"C": 2}},
                {"text": "Нейтрально", "points": {"C": 1}},
                {"text": "Скорее не согласен", "points": {"C": 0}},
                {"text": "Полностью не согласен", "points": {"C": 0}}
            ]
        },
        {
            "text": "Я предпочитаю чёткие инструкции",
            "category": "C",
            "options": [
                {"text": "Полностью согласен", "points": {"C": 3}},
                {"text": "Скорее согласен", "points": {"C": 2}},
                {"text": "Нейтрально", "points": {"C": 1}},
                {"text": "Скорее не согласен", "points": {"C": 0}},
                {"text": "Полностью не согласен", "points": {"C": 0}}
            ]
        },
        {
            "text": "Мне нравится систематизировать информацию",
            "category": "C",
            "options": [
                {"text": "Полностью согласен", "points": {"C": 3}},
                {"text": "Скорее согласен", "points": {"C": 2}},
                {"text": "Нейтрально", "points": {"C": 1}},
                {"text": "Скорее не согласен", "points": {"C": 0}},
                {"text": "Полностью не согласен", "points": {"C": 0}}
            ]
        }
        # Добавьте остальные вопросы по аналогии...
    ]

    for q_data in questions_data:
        question = Question(
            text=q_data["text"],
            category=q_data["category"]
        )
        session.add(question)
        session.flush()

        for opt_data in q_data["options"]:
            option = AnswerOption(
                question_id=question.id,
                text=opt_data["text"],
                points=json.dumps(opt_data["points"])
            )
            session.add(option)

    session.commit()
    print("Тестовые вопросы успешно добавлены")


if __name__ == "__main__":
    fill_sample_data()